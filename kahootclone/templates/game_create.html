{% extends "base.html" %}


{% block content %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'css/game.css' %}">
<audio controls loop autoplay hidden>
    <source src="{% static 'audio/lobby.mp3' %}" 
    type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  function updateParticipants() {
      $.ajax({
          url: "{% url 'game-updateparticipant' %}",
          success: function(response) {
              $("#participants").html(response);
          },
          error: function(xhr, status, error) {
              console.log(xhr.responseText);
          }
      });
  }
  
  setInterval(updateParticipants, 2000);
  </script>
  <div class="startgame">
    <h1>Game</h1>
    <p>Waiting lobby for questionnaire: {{ game.questionnaire.title }}</p>
    <p>To join: {{ game.publicId }}</p>
    <div id="participants">
        
    </div>
      <a href="{% url 'game-count-down' %}">Start Game</a>
  </div>
 
  
{% endblock %}
